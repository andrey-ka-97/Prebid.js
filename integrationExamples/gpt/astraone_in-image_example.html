<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Prebid.js Banner Example</title>
  <script src="../../../build/dev/prebid.js"></script>
  <style>
    .banner-block {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 1;
      border: none;
      overflow: hidden;
    }
  </style>
  <script>
    var adUnits = [{
      code: 'test-div',
      mediaTypes: {
        banner: {
          sizes: [1, 1],
        }
      },
      bids: [{
        bidder: "astraone",
        params: {
          placement: "inImage",
          placeId: "5f477bf94d506ebe2c4240f3",
          imageUrl: "https://creative.astraone.io/files/default_image-1-600x400.jpg"
        }
      }]
    }];

    var pbjs = pbjs || {};
    pbjs.que = pbjs.que || [];

    pbjs.que.push(function() {
      pbjs.addAdUnits(adUnits);
      pbjs.requestBids({
        bidsBackHandler: function (e) {
          if (pbjs.adserverRequestSent) return;
          pbjs.adserverRequestSent = true;
          var params = pbjs.getAdserverTargetingForAdUnitCode("test-div");
          var iframe = document.getElementById('test-div');

          if (params && params['hb_adid']) {
            iframe.parentElement.style.position = "relative";
            iframe.style.display = "block";
            pbjs.renderAd(iframe.contentDocument, params['hb_adid']);
          }
        }
      });
    });
  </script>
</head>

<body>
<h2>Prebid.js InImage Banner Test</h2>

<div style="width: 600px;">
  <img src="https://creative.astraone.io/files/default_image-1-600x400.jpg" width="100%" />
  <iframe id='test-div' class="banner-block" style="display: none;"></iframe>
</div>
</body>

</html>
